<!DOCTYPE html>
<html lang="fr" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <!-- <link rel="stylesheet" href="assets/html/shop.css" /> -->
    <link rel="stylesheet" href="shop(v1).css" />
  </head>
  <body>
    <div class="container">
      <h1>shop</h1>
      <p class="infoGold" id="infoGold">Gold : 1000 G</p>
      <label class="radioInput isChecked acheter" id="acheterOnglet"
        >Acheter
        <input type="radio" checked="checked" name="radio" id="acheterInput" />
        <span class="checkmark"></span>
      </label>
      <label class="radioInput vendre" id="vendreOnglet"
        >Vendre
        <input type="radio" name="radio" id="vendreInput" />
        <span class="checkmark"></span>
      </label>

      <!-- content -->
      <div class="itemDescription1" id="itemDescription1">
        <!-- <label class="containerItem radioInput active" id="1" cost="15">
          <input type="radio" />
          <div class="logoItem">
            <img src="assets/html/assets/icons/sting.png" />
          </div>
          <div class="nameItem">Sting</div>
          <div class="priceItem">15G</div>
          <input class="numberItem" type="Number" min="0" max="99" value="0" />
          <div class="numberItemHide">
            <div class="numberItemSpinner">
              <button class="numberItemPlus">+</button>
              <button class="numberItemMinus">-</button>
            </div>
          </div>
        </label>
        <label class="containerItem radioInput" id="2" cost="155">
          <input type="radio" />
          <div class="logoItem">
            <img src="assets/html/assets/icons/sting.png" />
          </div>
          <div class="nameItem">knife</div>
          <div class="priceItem">155G</div>
          <input class="numberItem" type="Number" min="0" max="99" value="0" />
          <div class="numberItemHide">
            <div class="numberItemSpinner">
              <button class="numberItemPlus">+</button>
              <button class="numberItemMinus">-</button>
            </div>
          </div>
        </label>
        <label class="containerItem radioInput" id="3" cost="250">
          <input type="radio" />
          <div class="logoItem">
            <img src="assets/html/assets/icons/sting.png" />
          </div>
          <div class="nameItem">wood armor</div>
          <div class="priceItem">250G</div>
          <input class="numberItem" type="Number" min="0" max="99" value="0" />
          <div class="numberItemHide">
            <div class="numberItemSpinner">
              <button class="numberItemPlus">+</button>
              <button class="numberItemMinus">-</button>
            </div>
          </div>
        </label> -->
      </div>
      <div class="itemDescription2" id="itemDescription2">
        <div class="kindItem" id="kindItem">
          ("kind Item")
        </div>
        <div class="classRequirment" id="classRequirment">
          ("class Requirment")
        </div>
        <div class="statsBonus" id="statsBonus">
          ("stats Bonus")
        </div>
        <div class="statsPrimary" id="statsPrimary">
          ("stats Primary")
        </div>
        <div class="levelRequirment" id="levelRequirment">
          ("level requirment")
        </div>
        <div class="descriptionItem" id="descriptionItem">
          ("Description Item")
        </div>
      </div>
      <button class="acheterSpace" id="acheterButton">Acheter</button>
    </div>
  </body>
  <script>
    var currentId = 1;
    var gold = 1000;
    var goldMinusBought = 0;
    var acheterOnglet = document.getElementById("acheterOnglet");
    var acheterInput = document.getElementById("acheterInput");
    var vendreOnglet = document.getElementById("vendreOnglet");
    var vendreInput = document.getElementById("vendreInput");
    var acheterButton = document.getElementById("acheterButton");
    var infoGold = document.getElementById("infoGold");
    var classRequirment = document.getElementById("classRequirment");
    var kindItem = document.getElementById("kindItem");
    var statsBonus = document.getElementById("statsBonus");
    var statsPrimary = document.getElementById("statsPrimary");
    var levelRequirment = document.getElementById("levelRequirment");
    var descriptionItem = document.getElementById("descriptionItem");
    var itemDescription1 = document.getElementById("itemDescription1");
    var itemDescription2 = document.getElementById("itemDescription2");

    var itemData = [
      {
        name: "sword",
        price: 150,
        logo: "weapon/sword.png",
        type: "weapon",
        propertie: {
          position: 1, //1=1Hand;2=2Hand
          kind: 1, //1=sword;2=dagger;3=bow;4=lance;5=staff;6=masse;7=hache;8=chakram;9=artefact;10=buckler
          atk: 10,
          matk: 0,
          level: 1,
          class: {
            warrior: true,
            thief: true,
            mage: false,
            priest: false,
            archer: false
          },
          stats: {
            int: 0,
            str: 0,
            dex: 0,
            agi: 0,
            vit: 0,
            sag: 0
          },
          description: "a normal sword"
        }
      },
      {
        name: "small healing potion",
        price: 25,
        logo: "consommable/red-potion.png",
        type: "consommable",
        propertie: {
          description: "heal 100HP"
        }
      },
      {
        name: "sting",
        price: 10,
        logo: "other/sting.png",
        type: "other",
        propertie: {
          description: "a sting..."
        }
      },
      {
        name: "wood helmet",
        price: 150,
        logo: "armor/wood-helmet.png",
        type: "armor",
        propertie: {
          position: 1, //1=head;2=torso;3=arm;4=epauliere;5=belt;6=leg;7=boot
          def: 10,
          mdef: 0,
          level: 1,
          class: {
            warrior: true,
            thief: true,
            mage: false,
            priest: false,
            archer: true
          },
          stats: {
            int: 0,
            str: 0,
            dex: 0,
            agi: 0,
            vit: 0,
            sag: 0
          },
          description: "a wood helmet"
        }
      }
    ];
    var shopArray = [0, 2, 1, 3];
    var shopHTML = [];
    // var el_one = document.getElementById("1");
    // var el_two = document.getElementById("2");
    // var el_three = document.getElementById("3");

    // var el_one_plus = el_one.getElementsByClassName("numberItemPlus");
    // var el_one_minus = el_one.getElementsByClassName("numberItemMinus");
    // var el_one_numItem = el_one.getElementsByClassName("numberItem");

    function checkNumbersItem() {
      goldMinusBought = 0;
      for (let i = 0; i < shopArray.length; i++) {
        var item = document.getElementById((i + 1).toString(10));

        var cost = item.getAttribute("cost");
        var nmbItem = item.getElementsByClassName("numberItem")[0].value;
        var ncost = nmbItem * cost;
        goldMinusBought += ncost;
      }
      // var cost = el_one.getAttribute("cost");
      // var nmbItem = el_one.getElementsByClassName("numberItem")[0].value;
      // var ncost1 = nmbItem * cost;
      //
      // cost = el_two.getAttribute("cost");
      // nmbItem = el_two.getElementsByClassName("numberItem")[0].value;
      // var ncost2 = nmbItem * cost;
      //
      // cost = el_three.getAttribute("cost");
      // nmbItem = el_three.getElementsByClassName("numberItem")[0].value;
      // var ncost3 = nmbItem * cost;
      //
      // goldMinusBought = ncost1 + ncost2 + ncost3;
    }

    function emptyItemList() {
      //empty the item list
    }

    function createNewItem() {
      //shopArray
      for (i = 0; i < shopArray.length; i++) {
        var item = itemData[shopArray[i]];
        item.id = i + 1;
        var html = createNewItemHTML(item);
      }
    }
    createNewItem();

    function createNewItemHTML(item) {
      var { name, id, price, logo, type, propertie } = item;
      var active = item.id == 1 ? "active" : "";
      itemDescription1.insertAdjacentHTML(
        "beforeend",
        `<label class="containerItem radioInput ${active}" id="${id}" cost="${price}">
              <input type="radio" />
              <div class="logoItem">
                <img src="../images/itemInventory/${logo}" />
              </div>
              <div class="nameItem">${name}</div>
              <div class="priceItem">${price}G</div>
              <input class="numberItem" type="Number" min="0" max="99" value="0" />
              <div class="numberItemHide">
                <div class="numberItemSpinner">
                  <button class="numberItemPlus">+</button>
                  <button class="numberItemMinus">-</button>
                </div>
              </div>
            </label>`
      );
      var html = document.getElementById(item.id);
      var plus = html.getElementsByClassName("numberItemPlus");
      var minus = html.getElementsByClassName("numberItemMinus");
      var numItem = html.getElementsByClassName("numberItem");
      html.addEventListener("click", event => {
        event.preventDefault();
        document.getElementById(currentId).classList.remove("active");
        currentId = id;
        document.getElementById(currentId).classList.add("active");
        //-----------------------------------------------------------------------
        // remplissage
        if (type == "weapon") {
          kindItem.classList.remove("hide");
          classRequirment.classList.remove("hide");
          statsBonus.classList.remove("hide");
          statsPrimary.classList.remove("hide");
          let warrior = propertie.class.warrior ? "warrior" : "";
          let thief = propertie.class.thief ? "thief" : "";
          let mage = propertie.class.mage ? "mage" : "";
          let priest = propertie.class.priest ? "priest" : "";
          let archer = propertie.class.archer ? "archer" : "";
          let kind = "";

          //1=sword;2=dagger;3=bow;4=lance;5=staff;6=masse;7=hache;8=chakram;9=artefact;10=buckler
          switch (propertie.kind) {
            case 1:
              kind = "sword";
              break;
            case 2:
              kind = "dagger";
              break;
            case 3:
              kind = "bow";
              break;
            case 4:
              kind = "lance";
              break;
            case 5:
              kind = "staff";
              break;
            case 6:
              kind = "masse";
              break;
            case 7:
              kind = "hache";
              break;
            case 8:
              kind = "chakram";
              break;
            case 9:
              kind = "artefact";
              break;
            case 10:
              kind = "buckler";
              break;
            default:
              break;
          }

          kindItem.innerHTML = "<h3>Type:</h3>" + `<p>${kind}</p>`;
          classRequirment.innerHTML =
            "<h3>Class requirment :</h3>" +
            `<p>${warrior} ${thief} ${mage} ${priest} ${archer}</p>`;
          levelRequirment.innerHTML =
            "<h3>Level requirment :</h3>" + `<p>${propertie.level}</p>`;
          statsBonus.innerHTML =
            "<h3>Stats :</h3>" +
            `<p>str+${propertie.stats.str},agi+${propertie.stats.agi},int+${propertie.stats.int},dex+${propertie.stats.dex},vit+${propertie.stats.vit}+sage+${propertie.stats.sag}</p>`;
          statsPrimary.innerHTML =
            "<h3>Primary Stats :</h3>" +
            `<p>atk:${propertie.atk} matk:${propertie.matk}</p>`;
          descriptionItem.innerHTML =
            "<h3>Description :</h3>" + `${propertie.description}`;
        } else if (type == "armor") {
          let kind = "";

          //1=sword;2=dagger;3=bow;4=lance;5=staff;6=masse;7=hache;8=chakram;9=artefact;10=buckler
          switch (propertie.kind) {
            case 1:
              kind = "low-def";
              break;
            case 2:
              kind = "medium-def";
              break;
            case 3:
              kind = "high-def";
              break;
            default:
              break;
          }

          kindItem.classList.remove("hide");
          classRequirment.classList.remove("hide");
          statsBonus.classList.remove("hide");
          statsPrimary.classList.remove("hide");
          let warrior = propertie.class.warrior ? "warrior" : "";
          let thief = propertie.class.thief ? "thief" : "";
          let mage = propertie.class.mage ? "mage" : "";
          let priest = propertie.class.priest ? "priest" : "";
          let archer = propertie.class.archer ? "archer" : "";

          kindItem.innerHTML = "<h3>Type:</h3>" + `<p>${kind}</p>`;
          classRequirment.innerHTML =
            "<h3>Class requirment :</h3>" +
            `<p>${warrior} ${thief} ${mage} ${priest} ${archer}</p>`;
          levelRequirment.innerHTML =
            "<h3>Level requirment :</h3>" + `<p>${propertie.level}</p>`;
          statsBonus.innerHTML =
            "<h3>Stats :</h3>" +
            `<p>str+${propertie.stats.str},agi+${propertie.stats.agi},int+${propertie.stats.int},dex+${propertie.stats.dex},vit+${propertie.stats.vit}+sage+${propertie.stats.sag}</p>`;
          statsPrimary.innerHTML =
            "<h3>Primary Stats :</h3>" +
            `<p>def:${propertie.def} mdef:${propertie.mdef}</p>`;
          descriptionItem.innerHTML =
            "<h3>Description :</h3>" + `${propertie.description}`;
        } else if (type == "accesory") {
          kindItem.classList.remove("hide");
          classRequirment.classList.remove("hide");
          statsBonus.classList.remove("hide");
          statsPrimary.classList.add("hide");
          let warrior = propertie.class.warrior ? "warrior" : "";
          let thief = propertie.class.thief ? "thief" : "";
          let mage = propertie.class.mage ? "mage" : "";
          let priest = propertie.class.priest ? "priest" : "";
          let archer = propertie.class.archer ? "archer" : "";
          kindItem.innerHTML = "<h3>Type:</h3>" + `<p>accesory</p>`;
          classRequirment.innerHTML =
            "<h3>Class requirment :</h3>" +
            `<p>${warrior} ${thief} ${mage} ${priest} ${archer}</p>`;
          levelRequirment.innerHTML =
            "<h3>Level requirment :</h3>" + `<p>${propertie.level}</p>`;
          statsBonus.innerHTML =
            "<h3>Stats :</h3>" +
            `<p>str+${propertie.stats.str},agi+${propertie.stats.agi},int+${propertie.stats.int},dex+${propertie.stats.dex},vit+${propertie.stats.vit}+sage+${propertie.stats.sag}</p>`;
          statsPrimary.innerHTML =
            "<h3>Primary Stats :</h3>" +
            `<p>atk:${propertie.atk} matk:${propertie.matk}</p>`;
          descriptionItem.innerHTML =
            "<h3>Description :</h3>" + `${propertie.description}`;
        } else if (type == "consommable") {
          kindItem.classList.add("hide");
          classRequirment.classList.add("hide");
          statsBonus.classList.add("hide");
          statsPrimary.classList.add("hide");
          levelRequirment.classList.add("hide");
          descriptionItem.innerHTML =
            "<h3>Description :</h3>" + `${propertie.description}`;
        } else if (type == "other") {
          kindItem.classList.add("hide");
          classRequirment.classList.add("hide");
          statsBonus.classList.add("hide");
          statsPrimary.classList.add("hide");
          levelRequirment.classList.add("hide");
          descriptionItem.innerHTML =
            "<h3>Description :</h3>" + `${propertie.description}`;
        }

        //-----------------------------------------------------------------------
        var cost = html.getAttribute("cost");
        var nmbItem = html.getElementsByClassName("numberItem")[0].value;
        checkNumbersItem();
        infoGold.innerHTML = "Gold : " + gold + "G(-" + goldMinusBought + "G)";
      });

      plus[0].addEventListener("click", e => {
        event.preventDefault();
        numItem[0].value++;
        /*
                       el_one_numItem[0].setAttribute(
                         "value",
                         //el_one_numItem[0].value + 1
                         //parseInt(el_one_numItem[0].value, 10) + 1
                         parseInt(el_one_numItem[0].getAttribute("value"), 10) + 1
                 ); */
        if (numItem[0].value > 99) {
          numItem[0].value = 99;
        }
      });

      minus[0].addEventListener("click", e => {
        event.preventDefault();
        numItem[0].value--;

        if (numItem[0].value < 0) {
          numItem[0].value = 0;
        }
      });

      return html;
    }

    //comment-
    //-------------------------------------------------------------------------------------------------
    // el_one_plus[0].addEventListener("click", e => {
    //   event.preventDefault();
    //   el_one_numItem[0].value++;
    //   /*
    //                  el_one_numItem[0].setAttribute(
    //                    "value",
    //                    //el_one_numItem[0].value + 1
    //                    //parseInt(el_one_numItem[0].value, 10) + 1
    //                    parseInt(el_one_numItem[0].getAttribute("value"), 10) + 1
    //            ); */
    //   if (el_one_numItem[0].value > 99) {
    //     el_one_numItem[0].value = 99;
    //   }
    // });
    //
    // el_one_minus[0].addEventListener("click", e => {
    //   event.preventDefault();
    //   el_one_numItem[0].value--;
    //
    //   if (el_one_numItem[0].value < 0) {
    //     el_one_numItem[0].value = 0;
    //   }
    // });
    //

    //
    // el_one.addEventListener("click", event => {
    //   event.preventDefault();
    //
    //   document.getElementById(currentId).classList.remove("active");
    //   currentId = 1;
    //   document.getElementById(currentId).classList.add("active");
    //   //-----------------------------------------------------------------------
    //   // remplissage 1 onglet
    //   classRequirment.classList.add("hide");
    //   statsBonus.classList.add("hide");
    //   statsPrimary.classList.add("hide");
    //   levelRequirment.classList.add("hide");
    //   descriptionItem.innerHTML =
    //     "<h3>Description :</h3>" +
    //     "<p>a regular sting from regular stingy monster...</p>";
    //   //-----------------------------------------------------------------------
    //   var cost = el_one.getAttribute("cost");
    //   var nmbItem = el_one.getElementsByClassName("numberItem")[0].value;
    //   checkNumbersItem();
    //   infoGold.innerHTML = "Gold : " + gold + "G(-" + goldMinusBought + "G)";
    // });
    // el_two.addEventListener("click", event => {
    //   event.preventDefault();
    //   document.getElementById(currentId).classList.remove("active");
    //   currentId = 2;
    //   document.getElementById(currentId).classList.add("active");
    //   //-----------------------------------------------------------------------
    //   // remplissage 2 onglet
    //   classRequirment.classList.remove("hide");
    //   statsBonus.classList.remove("hide");
    //   statsPrimary.classList.remove("hide");
    //   classRequirment.innerHTML =
    //     "<h3>Class requirment :</h3>" +
    //     "<p>Warrior, Thief, Mage, Priestess,archer</p>";
    //   levelRequirment.innerHTML = "<h3>Level requirment :</h3>" + "<p>1</p>";
    //   statsBonus.innerHTML =
    //     "<h3>Stats :</h3>" + "<p>str+0,agi+0,int+0,dex+0,vit+0</p> ";
    //   statsPrimary.innerHTML = "<h3>Primary Stats :</h3>" + "<p>atk:19</p> ";
    //   descriptionItem.innerHTML = "<h3>Description :</h3>" + "...";
    //   //-----------------------------------------------------------------------
    //   var cost = el_two.getAttribute("cost");
    //   var nmbItem = el_two.getElementsByClassName("numberItem")[0].value;
    //   checkNumbersItem();
    //   infoGold.innerHTML = "Gold : " + gold + "G(-" + goldMinusBought + "G)";
    // });
    // el_three.addEventListener("click", event => {
    //   event.preventDefault();
    //   document.getElementById(currentId).classList.remove("active");
    //   currentId = 3;
    //   document.getElementById(currentId).classList.add("active");
    //   //-----------------------------------------------------------------------
    //   // remplissage 3 onglet
    //   classRequirment.classList.remove("hide");
    //   levelRequirment.classList.remove("hide");
    //   statsBonus.classList.remove("hide");
    //   statsPrimary.classList.remove("hide");
    //   classRequirment.innerHTML =
    //     "<h3>Class requirment :</h3>" + "<p>Warrior, Thief, Mage, archer</p>";
    //   levelRequirment.innerHTML = "<h3>Level requirment :</h3>" + "<p>1</p>";
    //   statsBonus.innerHTML =
    //     "<h3>Stats :</h3>" + "<p>str+0,agi+0,int+0,dex+0,vit+0</p> ";
    //   statsPrimary.innerHTML = "<h3>Primary Stats :</h3>" + "<p>def:25</p> ";
    //   descriptionItem.innerHTML = "<h3>Description :</h3>" + "...";
    //   //-----------------------------------------------------------------------
    //   var cost = el_three.getAttribute("cost");
    //   var nmbItem = el_three.getElementsByClassName("numberItem")[0].value;
    //   checkNumbersItem();
    //   infoGold.innerHTML = "Gold : " + gold + "G(-" + goldMinusBought + "G)";
    // });
    //-------------------------------------------------------------------------------------------------
    acheterInput.oninput = e => {
      //var acheterOnglet = document.getElementById("acheterOnglet");
      //var vendreOnglet = document.getElementById("vendreOnglet");
      if (e.target.checked) {
        acheterOnglet.classList.add("isChecked");
        vendreOnglet.classList.remove("isChecked");
        acheterButton.innerHTML = "Acheter";
      } else {
        acheterOnglet.classList.remove("isChecked");
        vendreOnglet.classList.add("isChecked");
      }
    };

    vendreInput.oninput = e => {
      //var acheterOnglet = document.getElementById("acheterOnglet");
      //var vendreOnglet = document.getElementById("vendreOnglet");

      if (e.target.checked) {
        vendreOnglet.classList.add("isChecked");
        acheterOnglet.classList.remove("isChecked");
        acheterButton.innerHTML = "Vendre";
      } else {
        vendreOnglet.classList.remove("isChecked");
        acheterOnglet.classList.add("isChecked");
      }
    };
  </script>
</html>
